# Nginx基础

## 介绍

<img src="img/1.Nginx基础/image-20230620135506377.png" alt="image-20230620135506377" style="zoom: 67%;" />

## 下载和安装

下载

<img src="img/1.Nginx基础/image-20230620135609362.png" alt="image-20230620135609362" style="zoom: 80%;" />

> rpm包下载地址
>
> ```
> http://nginx.org/packages
> ```
>
> centos7对应地址
>
> ```
> http://nginx.org/packages/centos/7/
> ```

安装

<img src="img/1.Nginx基础/image-20230620135737127.png" alt="image-20230620135737127" style="zoom: 80%;" />

```
yum -y install gcc pcre-devel zlib-devel openssl openssl-devel

yum install wget
wget https://nginx.org/download/nginx-1.16.1.tar.gz # 默认下载到root目录下

tar -zxvf nginx-1.16.1.tar.gz

cd nginx-1.16.1

mkdir -p /usr/local/nginx
./configure --prefix=/usr/local/nginx # prefix代表安装的指定目录

make && make install # 编译并安装
```

## 目录结构

<img src="img/1.Nginx基础/image-20230620140339460.png" alt="image-20230620140339460" style="zoom: 80%;" />

```
cd /usr/local/nginx

yum install tree
tree
```

> <img src="img/1.Nginx基础/image-20230620210133553.png" alt="image-20230620210133553" style="zoom:80%;" />

## 命令

### 查看版本

<img src="img/1.Nginx基础/image-20230620210324097.png" alt="image-20230620210324097" style="zoom:80%;" />

### 检查配置文件正确性

<img src="img/1.Nginx基础/image-20230620210407018.png" alt="image-20230620210407018" style="zoom:67%;" />

### 启动和停止

<img src="img/1.Nginx基础/image-20230620210458684.png" alt="image-20230620210458684" style="zoom:80%;" />

```
cd /usr/local/nginx/sbin

./nginx

./nginx -s stop

ps -ef|grep nginx
```

> <img src="img/1.Nginx基础/image-20230620210725659.png" alt="image-20230620210725659" style="zoom:80%;" />
>
> 开启端口
>
> ```
> firewall-cmd --zone=public --add-port=80/tcp --permanent
> 
> firewall-cmd --reload
> ```
>
> 浏览器访问
>
> ```
> 192.168.138.100:80
> ```
>
> <img src="img/1.Nginx基础/image-20230620211936957.png" alt="image-20230620211936957" style="zoom: 67%;" />

### 重新加载配置文件

<img src="img/1.Nginx基础/image-20230620212432687.png" alt="image-20230620212432687" style="zoom:80%;" />

```
vim /etc/profile # 配置到环境变量，方便任何目录执行重新加载命令

/usr/local/nginx/sbin:

source /etc/profile
```

> 修改前：
>
> <img src="img/1.Nginx基础/image-20230909180519560.png" alt="image-20230909180519560" style="zoom:80%;" />
>
> 修改后：
>
> <img src="img/1.Nginx基础/image-20230909180606928.png" alt="image-20230909180606928" style="zoom:80%;" />

```
/usr/local/nginx/sbin/nginx -s reload # 原本使用方式

nginx -s reload # 加入配置文件后可以简化使用，包括启动和停止命令都无需再切换目录
```

